<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>三角函数</title>
</head>

<body>
    <canvas style="width:400px;height:400px;background:#ccc"></canvas>
    <script src='until.js'></script>
    <script type="text/javascript">
        var can = document.getElementsByTagName('canvas')[0];
        var ctx = can.getContext('2d');
        var arc = {
            x: 0,
            y: 0,
            rotate: 0,
            color: '#ff0',
            radius: 10
        }

        function draw(ctx) {
            ctx.save();
            ctx.translate(arc.x, arc.y);
            ctx.rotate(arc.rotate);
            ctx.lineWidth = 1;
            ctx.fillColor = arc.color;
            ctx.beginPath();
            ctx.arc(0, 0, arc.radius, 0, 2 * Math.PI, false)
            ctx.stroke();
            ctx.fill();
            ctx.restore();
        }
        arc.x = can.width / 2;
        arc.y = can.height / 2;
        draw(ctx);
        var move = untils.getMouseMove(can);
        var ang = 0,
            range = 50;
        (function frameDraw() {
            window.requestAnimationFrame(frameDraw, can);
            ctx.clearRect(0, 0, can.width, can.height)
            arc.x = can.width / 2 + Math.sin(ang) * range
            ang += 0.1
            draw(ctx)
        })()
    </script>
</body>

</html>
